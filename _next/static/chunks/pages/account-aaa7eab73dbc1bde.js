(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{5458:function(a,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(2243)}])},2243:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var i=n(5893),r=a=>{let{cls:e,children:n}=a;return(0,i.jsx)("section",{className:"banner-section inner-banner ".concat(e),children:(0,i.jsx)("div",{className:"overlay",children:(0,i.jsx)("div",{className:"banner-content d-flex align-items-center",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row justify-content-start",children:(0,i.jsx)("div",{className:"col-lg-7 col-md-10",children:n})})})})})})},t=n(7294),s=n(1163),l=n(9332),o=n(9074),c=n(109);let u=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic of the","Congo, Republic of the","Costa Rica","Croatia","Cuba","Cyprus","Czechia (Czech Republic)","Denmark","Djibouti","Dominica","Dominican Republic","East Timor (Timor-Leste)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North (North Korea)","Korea, South (South Korea)","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City (Holy See)","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],d=a=>{let{children:e}=a;return(0,i.jsx)("div",{style:{position:"fixed",inset:0,background:"#0008",backdropFilter:"blur(2rem)",display:"grid",placeContent:"center",zIndex:1e5},children:(0,i.jsx)("div",{style:{padding:"2rem",background:"#fff",borderRadius:"1.5rem",maxWidth:"40rem",marginInline:"1.5rem"},children:e})})};var h=()=>{let[a,e]=(0,t.useState)(),[n,h]=(0,t.useState)(!1),[m,b]=(0,t.useState)(!0),[g,x]=(0,t.useState)(""),[y,p]=(0,t.useState)(""),[v,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[S,f]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),A=(0,s.useRouter)(),E=(0,l.useSearchParams)(),M=async()=>{(await (0,c.PL)((0,c.hJ)(o.db,"users"))).forEach(a=>{a.data().email===o.I.currentUser.email&&e(a.data())})};return(0,t.useEffect)(()=>{M();let a=E.get("transaction-status");return"bank-error"===a?alert("An error occured while trying to process your transaction. Please contact support to add money to your account manually."):"successfull"===a?alert("The money as been sent to your account. Your will receive an alert notification very soon. \n if you encounter any error please contact support."):void 0},[]),(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(d,{children:(0,i.jsx)("div",{children:m?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"widthdraw-amount",children:"Enter amount to widthdraw"}),(0,i.jsx)("input",{value:y,onChange:a=>p(a.target.value),type:"text",id:"withdraw-amount",placeholder:"Amount to widthdraw here",required:!0})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"account-name",children:"Enter your account name"}),(0,i.jsx)("input",{value:v,onChange:a=>j(a.target.value),type:"text",id:"withdraw-amount",placeholder:"Account name here",required:!0})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"account-number",children:"Enter your account number"}),(0,i.jsx)("input",{value:N,onChange:a=>w(a.target.value),type:"text",id:"withdraw-amount",placeholder:"Account number here",required:!0})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"bank-name",children:"Enter your bank name"}),(0,i.jsx)("input",{value:S,onChange:a=>f(a.target.value),type:"text",id:"withdraw-amount",placeholder:"Bank name here",required:!0})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"referral",children:"Select the country your bank is located"}),(0,i.jsx)("input",{type:"list",list:"countries",value:C,onChange:a=>k(a.target.value)}),(0,i.jsx)("datalist",{id:"countries",children:u.map(a=>(0,i.jsx)("option",{value:a,children:a}))})]})})]}),(0,i.jsx)("div",{style:{height:".5rem"}}),(0,i.jsx)("div",{className:"btn-area",children:(0,i.jsx)("button",{onClick:async()=>{if(isNaN(Number(y)))return alert("You can only withdraw from $100");if(!S||!v||!N||!C)return alert("All field must be provided");try{let e;(await (0,c.PL)((0,c.IO)((0,c.hJ)(o.db,"users"),(0,c.ar)("email","==",a.email)))).forEach(a=>e=a.id);let n=(0,c.JU)(o.db,"users",e);await (0,c.r7)(n,{cash:Number(a.cash)-Number(y)}),A.replace("/processing-transaction?withdraw=true")}catch(a){alert("An error occured while processing request")}},type:"submit",className:"cmn-btn",children:"Withdraw Money"})})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"single-input",children:[(0,i.jsx)("label",{htmlFor:"referral",children:"Enter amount to add"}),(0,i.jsx)("input",{value:g,onChange:a=>x(a.target.value),type:"text",id:"add-amount",placeholder:"Amount to add here",required:!0})]})}),(0,i.jsx)("div",{style:{height:".5rem"}}),(0,i.jsx)("div",{className:"btn-area",children:(0,i.jsx)("button",{onClick:()=>{if(g.length<3)return alert("You can only add from $100");A.replace("/processing-transaction?add-money=true")},type:"submit",className:"cmn-btn",children:"Add Money"})})]})})}),(0,i.jsx)(r,{cls:"account",children:(0,i.jsxs)("div",{className:"main-content banner-mar",children:[(0,i.jsxs)("div",{className:"section-text",children:[(0,i.jsxs)("h5",{className:"sub-title",children:["Howdy ",null==a?void 0:a.firstname,", your account balance"]}),(0,i.jsxs)("h2",{className:"title",children:["$",null==a?void 0:a.cash]}),(0,i.jsx)("p",{children:"Change the way you manage your money.We have a fine range of accounts to help you manage your finances seamlessly"})]}),(0,i.jsxs)("div",{className:"bottom-area",children:[(0,i.jsx)("button",{onClick:()=>{b(!1),h(!0)},className:"cmn-btn",children:"Add money"}),(0,i.jsx)("button",{onClick:()=>{b(!0),h(!0)},className:"cmn-btn second",children:"Withdraw money"})]})]})})]})};function m(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h,{})})}}},function(a){a.O(0,[888,774,179],function(){return a(a.s=5458)}),_N_E=a.O()}]);