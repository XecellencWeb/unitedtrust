(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(8375)}])},8375:function(e,a,r){"use strict";r.r(a);var t=r(5893),n=r(1163),s=r(7294),i=r(9074),d=r(109),l=r(1696);let o={username:"unitedtrust",password:"TrustPass@13"};a.default=()=>{let[e,a]=(0,s.useState)(),r=(0,n.useRouter)(),[m,u]=(0,s.useState)(""),[c,h]=(0,s.useState)(""),[p,f]=(0,s.useState)([]),w=async()=>{let e=await (0,d.PL)((0,d.hJ)(i.db,"users")),a=[];e.forEach(e=>{a=[...a,e.data()]}),f(a)},b=async e=>{if(confirm("Are you sure you want to delete this user"))try{let a;(await (0,d.PL)((0,d.IO)((0,d.hJ)(i.db,"users"),(0,d.ar)("email","==",e.email)))).forEach(e=>a=e.id);let r=(0,d.JU)(i.db,"users",a);await (0,l.e5)(i.I,e.email,e.firstname+e.lastname+(e.referralCode||"13")),await (0,l.h8)(i.I.currentUser),await (0,d.oe)(r),alert("you deleted ".concat(e.email)),await w()}catch(e){alert(e.message)}},g=async e=>{let a=prompt("Enter amount to add");if(isNaN(Number(a)))return alert("cash must be in nummber");try{let r;(await (0,d.PL)((0,d.IO)((0,d.hJ)(i.db,"users"),(0,d.ar)("email","==",e.email)))).forEach(e=>r=e.id);let t=(0,d.JU)(i.db,"users",r);await (0,d.r7)(t,{cash:Number(e.cash)+Number(a)}),alert("amount changed"),await w()}catch(e){alert(e.message)}};return((0,s.useEffect)(()=>{e&&w()},[e]),void 0===e)?(0,t.jsx)("div",{style:{display:"grid",placeContent:"center",minHeight:"100vh"},children:(0,t.jsxs)("form",{onSubmit:e=>(e.preventDefault(),m&&c)?m!==o.username&&c!==o.password?r.replace("/"):void a(!0):alert("Please fill username and password field"),style:{maxWidth:"40rem",padding:"2rem",borderRadius:"2rem",background:"#fff",boxShadow:"-2rem 2rem 1rem #dd05, 0 0 2rem #3333"},children:[(0,t.jsx)("input",{style:{display:"block",width:"100%",marginTop:"1rem"},onChange:e=>u(e.target.value),type:"text",placeholder:"username"}),(0,t.jsx)("input",{style:{display:"block",width:"100%",marginTop:"1rem"},onChange:e=>h(e.target.value),type:"password",placeholder:"password"}),(0,t.jsx)("button",{style:{background:"#00d",color:"white",width:"100%",borderRadius:"100vw",marginTop:"1rem",paddingBlock:".5rem"},children:"Log in"})]})}):(0,t.jsx)("div",{style:{minHeight:"100vh",paddingTop:"10rem"},children:null==p?void 0:p.map(e=>(0,t.jsxs)("div",{style:{maxWidth:"40rem",marginInline:"auto",marginBottom:"2rem",padding:"1.5rem",borderRadius:"2rem",background:"#fff",boxShadow:"-1rem 1rem .5rem #3333"},children:[(0,t.jsxs)("h4",{children:[e.firstname," ",e.lastname]}),(0,t.jsxs)("div",{children:["Current Cash: $",e.cash]}),(0,t.jsx)("button",{style:{padding:".5rem 1rem",borderRadius:"100vw",margin:".5rem"},onClick:()=>g(e),children:"Add Cash"}),(0,t.jsx)("button",{style:{padding:".5rem 1rem",borderRadius:"100vw",margin:".5rem"},onClick:()=>b(e),children:"Delete User"}),(0,t.jsx)("button",{style:{padding:".5rem 1rem",borderRadius:"100vw",margin:".5rem"},onClick:()=>{alert("\n              First Name: ".concat(e.firstname," \n\n              Last Name: ").concat(e.lastname," \n\n              Email: ").concat(e.email," \n\n              ReferralCode: ").concat(e.referralCode," \n\n              Cash: $").concat(e.cash," \n\n              Phone: ").concat(e.phone," \n\n              "))},children:"View User Details"})]}))})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);